<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="201.18000000000001" version="1.2" width="1207.5799999999999" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <rect atv:refpx="453.736" atv:refpy="41.041" fill="#e8e8e8" height="64" id="id_5" stroke="#000000" stroke-opacity="0" stroke-width="2" width="301.151" x="301.862" y="3.223"/>
 <rect atv:refpx="152.08" atv:refpy="35.223" fill="#e8e8e8" height="64" id="id_0" stroke="#000000" stroke-opacity="0" stroke-width="2" width="299.404" x="2.378" y="3.223"/>
 <rect atv:refpx="904.879" atv:refpy="34" fill="#ffffff" height="66" id="id_1" stroke="#000000" stroke-width="2" width="599.758" x="605" y="1"/>
 <rect atv:refpx="905.373" atv:refpy="100.076" fill="#ffffff" height="66" id="id_2" stroke="#000000" stroke-width="2" width="599.758" x="605.494" y="67.076"/>
 <rect atv:refpx="953.5" atv:refpy="37.622" fill="#e8e8e8" height="63" id="id_12" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="904" y="3.258"/>
 <rect atv:refpx="904.885" atv:refpy="166.768" fill="#ffffff" height="66" id="id_3" stroke="#000000" stroke-width="2" width="599.758" x="605.006" y="132.768"/>
 <rect atv:refpx="953.5" atv:refpy="102.803" fill="#e8e8e8" height="63" id="id_13" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="904" y="68.439"/>
 <rect atv:refpx="301.953" atv:refpy="99" fill="#ffffff" height="66" id="id_6" stroke="#000000" stroke-width="2" width="599.758" x="2.074" y="66"/>
 <rect atv:refpx="953.5" atv:refpy="168.497" fill="#e8e8e8" height="63" id="id_14" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="904" y="134.133"/>
 <rect atv:refpx="655.5" atv:refpy="165.633" fill="#e8e8e8" height="63" id="id_10" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="606" y="134.133"/>
 <rect atv:refpx="52.084" atv:refpy="99.289" fill="#e8e8e8" height="63" id="id_11" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="2.584" y="67.789"/>
 <rect atv:refpx="350.084" atv:refpy="102.153" fill="#e8e8e8" height="63" id="id_15" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="300.584" y="67.789"/>
 <rect atv:refpx="656.5" atv:refpy="34.598" fill="#e8e8e8" height="63" id="id_8" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="606" y="3.098"/>
 <rect atv:refpx="656.341" atv:refpy="99.939" fill="#e8e8e8" height="63" id="id_9" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="606.841" y="68.439"/>
 <g atv:refpx="186.904" atv:refpy="35.127" id="id_31" transform="matrix(1,0,0,1,0,1)">
  <polygon atv:refpx="27.553" atv:refpy="34.127" fill="#ffffff" id="id_19" points="15.994,37.724 26.783,37.724 15.994,59.813 39.111,31.045 26.783,31.045 37.571,8.442" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
  <svg atv:refpx="332.662" atv:refpy="34.127" fill="#ffffff" height="40" id="id_17" stroke="#ffffff" transform="matrix(1.2569,0,0,1,0,0)" width="40" x="244.679" xlink:href="SYSTEM.LIBRARY.PROJECT.RESOURCES%2FSVG%20WIFI.svg" y="14.127"/>
 </g>
 <text atv:refpx="516.604" atv:refpy="38.627" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_18" text-anchor="end" x="586.104" y="43.127">timestamp</text>
 <text atv:refpx="207.415" atv:refpy="38.627" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_7" text-anchor="end" x="276.915" y="43.127">timestamp</text>
 <text atv:refpx="20.524" atv:refpy="110" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_23" text-anchor="end" x="29.002" y="114.5">P</text>
 <text atv:refpx="345.146" atv:refpy="110" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_27" text-anchor="end" x="364.577" y="114.5">FP</text>
 <text atv:refpx="623.488" atv:refpy="42.598" fill="#ee252e" font-family="Arial" font-size="36" font-weight="bold" id="id_20" text-anchor="end" x="634.418" y="47.098">V</text>
 <text atv:refpx="645.769" atv:refpy="42.598" fill="#ee252e" font-family="Arial" font-size="18" font-weight="bold" id="id_28" text-anchor="start" x="634.082" y="47.098">L1-L2</text>
 <text atv:refpx="621.926" atv:refpy="83.676" fill="#fdae01" font-family="Arial" font-size="36" font-weight="bold" id="id_32" text-anchor="end" x="634.418" y="113.439">V</text>
 <text atv:refpx="658.521" atv:refpy="107.232" fill="#fdae01" font-family="Arial" font-size="18" font-weight="bold" id="id_33" text-anchor="end" x="682.021" y="113.732">L2-L3</text>
 <text atv:refpx="645.844" atv:refpy="66.099" fill="#0282cc" font-family="Arial" font-size="36" font-weight="bold" id="id_35" text-anchor="end" x="634.418" y="180.546">V</text>
 <text atv:refpx="684.591" atv:refpy="66.099" fill="#0282cc" font-family="Arial" font-size="18" font-weight="bold" id="id_36" text-anchor="end" x="682.082" y="180.546">L3-L1</text>
 <text atv:refpx="778.64" atv:refpy="55.475" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_38" text-anchor="end" x="930.993" y="47.098">I</text>
 <text atv:refpx="949.082" atv:refpy="40.598" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_39" text-anchor="end" x="958.082" y="47.098">L1</text>
 <text atv:refpx="776.309" atv:refpy="46.829" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_41" text-anchor="end" x="930.993" y="113.439">I</text>
 <text atv:refpx="949.082" atv:refpy="107.232" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_42" text-anchor="end" x="959.082" y="113.732">L2</text>
 <text atv:refpx="779.639" atv:refpy="42.181" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_44" text-anchor="end" x="930.993" y="180.546">I</text>
 <text atv:refpx="949.082" atv:refpy="174.046" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_45" text-anchor="end" x="959.082" y="180.546">L3</text>
 <text atv:refpx="63.19" atv:refpy="0.406" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_46" text-anchor="end" x="61.166" y="114.853">Act</text>
 <text atv:refpx="839.724" atv:refpy="42.598" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_47" text-anchor="end" x="854.25" y="47.098">E1</text>
 <text atv:refpx="878.813" atv:refpy="42.598" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_49" text-anchor="start" x="864.743" y="47.098">V</text>
 <text atv:refpx="878.813" atv:refpy="108.069" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_50" text-anchor="start" x="864.743" y="112.569">V</text>
 <text atv:refpx="878.813" atv:refpy="175.046" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_51" text-anchor="start" x="864.743" y="179.546">V</text>
 <text atv:refpx="295.11" atv:refpy="109.596" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_52" text-anchor="start" x="261.327" y="114.096">KW</text>
 <text atv:refpx="835.724" atv:refpy="108.939" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_53" text-anchor="end" x="854.25" y="113.439">E2</text>
 <text atv:refpx="835.724" atv:refpy="176.046" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_54" text-anchor="end" x="854.25" y="180.546">E3</text>
 <text atv:refpx="241.356" atv:refpy="110" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_55" text-anchor="end" x="250.834" y="114.5">P</text>
 <text atv:refpx="1136.788" atv:refpy="40.598" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_56" text-anchor="end" x="1144.528" y="45.098">I1</text>
 <text atv:refpx="1169.091" atv:refpy="40.598" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_57" text-anchor="start" x="1155.021" y="45.098">A</text>
 <text atv:refpx="1169.091" atv:refpy="106.069" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_58" text-anchor="start" x="1155.021" y="110.569">A</text>
 <text atv:refpx="1169.091" atv:refpy="173.046" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_59" text-anchor="start" x="1155.021" y="177.546">A</text>
 <text atv:refpx="554.322" atv:refpy="107.596" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_60" text-anchor="start" x="551.605" y="112.096"/>
 <text atv:refpx="1132.788" atv:refpy="106.939" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_61" text-anchor="end" x="1144.528" y="111.439">I2</text>
 <text atv:refpx="1132.788" atv:refpy="174.046" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_62" text-anchor="end" x="1144.528" y="178.546">I3</text>
 <text atv:refpx="521.681" atv:refpy="108" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_63" text-anchor="end" x="541.112" y="112.5">FP</text>
 <rect atv:refpx="302.873" atv:refpy="165.524" fill="#ffffff" height="66" id="id_21" stroke="#000000" stroke-width="2" width="601.599" x="2.074" y="132.524"/>
 <rect atv:refpx="36.017" atv:refpy="165.404" fill="#e8e8e8" height="63" id="id_22" stroke="#000000" stroke-opacity="0" stroke-width="2" width="66" x="3.017" y="133.904"/>
 <polygon atv:refpx="31.414" atv:refpy="166.158" fill="#8e8e8e" id="id_24" points="12.946,185.478 32.835,146.837 49.882,184.909 49.882,184.909 49.882,184.909" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
 <text atv:refpx="566.435" atv:refpy="180.405" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_25" text-anchor="start" x="549.105" y="184.905">%</text>
 <text atv:refpx="264.871" atv:refpy="181.809" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_26" text-anchor="end" x="393.697" y="186.309">Estatus P. Emerg</text>
 <text atv:refpx="509.917" atv:refpy="180.918" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_29" text-anchor="end" x="541.112" y="185.418">Fuel</text>
 <rect atv:refpx="755.356" atv:refpy="101.399" fill="#000000" fill-opacity="0" height="197.554" id="id_30" stroke="#000000" stroke-width="2" width="298.55" x="606.081" y="2.622"/>
 <rect atv:refpx="1056.382" atv:refpy="99.179" fill="#000000" fill-opacity="0" height="197.554" id="id_34" stroke="#000000" stroke-width="2" width="300.391" x="906.186" y="1.402"/>
 <rect atv:refpx="151.385" atv:refpy="99.883" fill="#000000" fill-opacity="0" height="63.262" id="id_37" stroke="#000000" stroke-width="2" width="300.77" x="1" y="68.252"/>
 <rect atv:refpx="453.265" atv:refpy="99.328" fill="#000000" fill-opacity="0" height="63.262" id="id_40" stroke="#000000" stroke-width="2" width="300.77" x="302.88" y="67.697"/>
 <rect atv:refpx="302.135" atv:refpy="34.091" fill="#000000" fill-opacity="0" height="64.182" id="id_43" stroke="#000000" stroke-width="2" width="602.271" x="1" y="2"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_18";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_7";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_5";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_0";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});



webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L1-L2", function(e) {
var id = "id_47";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L2-L3", function(e) {
var id = "id_53";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L3-L1", function(e) {
var id = "id_54";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L1", function(e) {
var id = "id_56";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L2", function(e) {
var id = "id_61";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L3", function(e) {
var id = "id_62";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});
webMI.data.subscribe(webMI.query["base"] + ".Potencia_Activa", function(e) {
var id = "id_55";
var value = e.value;
if (value > 1000) {
value = value/1000;
}


webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".FP", function(e) {
var id = "id_63";
var value = e.value;

if (value > 1)
	{
	value = value/100;
	}
	
webMI.gfx.setText(id, webMI.sprintf("%.2f", value));

});
webMI.addEvent("id_30", "click", function(e) {
var id = "id_30";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.VoltajeMain", webMI.query, "tendencias");
});


webMI.addEvent("id_34", "click", function(e) {
var id = "id_34";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.CorrienteMain", webMI.query, "tendencias");
});


webMI.addEvent("id_37", "click", function(e) {
var id = "id_37";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.PotenciaMain", webMI.query, "tendencias");
});
webMI.addEvent("id_40", "click", function(e) {
var id = "id_40";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.FPMain", webMI.query, "tendencias");
});

]]></script>
</svg>
