<?xml version="1.0" encoding="UTF-8"?>
<script>
  <metadata>
    <icon type="image/png">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</icon>
    <visible>1</visible>
    <title>Drop Shadow</title>
    <description>Generates Shadow from any SVG element</description>
  </metadata>
  <parameter behavior="optional" defaultvalue="10" desc="Shadow offset X" name="offsetX" valuetype="number"/>
  <parameter behavior="optional" defaultvalue="10" desc="Shadow offset Y" name="offsetY" valuetype="number"/>
  <parameter behavior="optional" defaultvalue="5" desc="Blur Level of Shadow Edges" name="blurLevel" valuetype="number"/>
  <parameter behavior="optional" config="SourceAlpha;SourceGraphics" defaultvalue="SourceAlpha" desc="Input type" name="inputType" valuetype="enum"/>
  <parameter behavior="optional" defaultvalue="100" desc="Shadow Intensity Level" name="intensityLevel" valuetype="number"/>
  <code><![CDATA[/* QuickScript for Shadow Generation to SVG graphics
 * ver. 1.1
 * Author: Oleksii Panchenko
 * 2017-05-23
 * Specification Reference: https://www.w3.org/TR/SVGFilter12/
 */

var gElement = (base.gElement == undefined) ? document.getElementById(base.id) : base.gElement;

webMI.addOnload(function(e) {
	var xmlns="http://www.w3.org/2000/svg";
	var self = gElement;
	var myParent = self.parentNode.parentNode; //second parentNode added for new atvise version

	var myDefs = myParent.getElementsByTagName("defs")[0];
	var myFilterId = self.id + "f";

	var offX = base.offsetX.toString();
	var offY = base.offsetY.toString();
	var blurLvl = base.blurLevel.toString();
	var opacityLvl = ((base.intensityLevel)/100).toString();


//----- Root Shadow Filter object
	var myFilter = webMI.dom.createElement(xmlns, "filter");
		myFilter.setAttributeNS(null, "width", "500%");
		myFilter.setAttributeNS(null, "height", "500%");
		myFilter.setAttributeNS(null, "id", myFilterId);

//----- Shadow element: Offset
	var fOffset = webMI.dom.createElement(xmlns, "feOffset");
		fOffset.setAttributeNS(null, "dx", offX);
		fOffset.setAttributeNS(null, "dy", offY);
		fOffset.setAttributeNS(null, "in", "SourceAlpha"); //SourceAlpha, SourceGraphic
		fOffset.setAttributeNS(null, "result", "offOut");

//----- Shadow element: Opacity
	var fCompTr = webMI.dom.createElement(xmlns, "feComponentTransfer");
		fCompTr.setAttributeNS(null, "in", "offOut");
		fCompTr.setAttributeNS(null, "result", "oCompTr");
		var fCTFunc = webMI.dom.createElement(xmlns, "feFuncA");
			fCTFunc.setAttributeNS(null, "type", "linear");
			fCTFunc.setAttributeNS(null, "slope", opacityLvl);
		fCompTr.appendChild(fCTFunc);

//----- Shadow element: Blur
	var fBlur = webMI.dom.createElement(xmlns, "feGaussianBlur");
		fBlur.setAttributeNS(null, "in", "oCompTr");
		fBlur.setAttributeNS(null, "result", "blurOut");
		fBlur.setAttributeNS(null, "stdDeviation", blurLvl);

//----- Shadow element: Blend shadow with the original picture
	var fBlend = webMI.dom.createElement(xmlns, "feBlend");
		fBlend.setAttributeNS(null, "in", "SourceGraphic");
		fBlend.setAttributeNS(null, "in2", "blurOut");
		fBlend.setAttributeNS(null, "mode", "normal");


//----- Assemble all together starting from the root level <defs>
	myDefs.appendChild(myFilter);
	myFilter.appendChild(fOffset);
	myFilter.appendChild(fCompTr);
	myFilter.appendChild(fBlur);
	myFilter.appendChild(fBlend);

	var filterId = "url(#" + myFilterId + ")";
	self.setAttribute("filter", filterId);
});]]></code>
</script>
