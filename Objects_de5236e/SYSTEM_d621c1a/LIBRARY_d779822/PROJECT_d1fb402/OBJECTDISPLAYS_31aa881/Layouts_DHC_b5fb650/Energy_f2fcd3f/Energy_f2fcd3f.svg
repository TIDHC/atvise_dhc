<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="399.03199999999998" version="1.2" width="604.64999999999998" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="false" height="10" width="10"/>
 </metadata>
 <rect atv:refpx="302.877" atv:refpy="164.602" fill="#ffffff" height="327.204" id="id_16" stroke="#000000" stroke-width="2" width="602.863" x="1.445" y="1"/>
 <rect atv:refpx="453.736" atv:refpy="40.041" fill="#e8e8e8" height="64" id="id_5" stroke="#000000" stroke-opacity="0" stroke-width="2" width="301.151" x="301.862" y="2.223"/>
 <rect atv:refpx="152.08" atv:refpy="34.223" fill="#e8e8e8" height="64" id="id_0" stroke="#000000" stroke-opacity="0" stroke-width="2" width="299.404" x="2.378" y="2.223"/>
 <rect atv:refpx="301.463" atv:refpy="100.189" fill="#ffffff" height="66" id="id_1" stroke="#000000" stroke-width="2" width="599.758" x="1.584" y="67.189"/>
 <rect atv:refpx="301.957" atv:refpy="166.265" fill="#ffffff" height="66" id="id_2" stroke="#000000" stroke-width="2" width="599.758" x="2.078" y="133.265"/>
 <rect atv:refpx="350.084" atv:refpy="103.811" fill="#e8e8e8" height="63" id="id_12" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="300.584" y="69.447"/>
 <rect atv:refpx="301.469" atv:refpy="232.957" fill="#ffffff" height="66" id="id_3" stroke="#000000" stroke-width="2" width="599.758" x="1.59" y="198.957"/>
 <rect atv:refpx="350.084" atv:refpy="168.992" fill="#e8e8e8" height="63" id="id_13" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="300.584" y="134.628"/>
 <rect atv:refpx="301.953" atv:refpy="298.223" fill="#ffffff" height="66" id="id_6" stroke="#000000" stroke-width="2" width="599.758" x="2.074" y="265.223"/>
 <rect atv:refpx="350.084" atv:refpy="234.686" fill="#e8e8e8" height="63" id="id_14" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="300.584" y="200.322"/>
 <rect atv:refpx="52.084" atv:refpy="231.822" fill="#e8e8e8" height="63" id="id_10" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="2.584" y="200.322"/>
 <rect atv:refpx="52.084" atv:refpy="298.512" fill="#e8e8e8" height="63" id="id_11" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="2.584" y="267.012"/>
 <rect atv:refpx="350.084" atv:refpy="301.376" fill="#e8e8e8" height="63" id="id_15" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="300.584" y="267.012"/>
 <rect atv:refpx="53.084" atv:refpy="100.787" fill="#e8e8e8" height="63" id="id_8" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="2.584" y="69.287"/>
 <rect atv:refpx="52.925" atv:refpy="166.128" fill="#e8e8e8" height="63" id="id_9" stroke="#000000" stroke-opacity="0" stroke-width="2" width="99" x="3.425" y="134.628"/>
 <g atv:refpx="186.904" atv:refpy="34.127" id="id_31">
  <polygon atv:refpx="27.553" atv:refpy="34.127" fill="#ffffff" id="id_19" points="15.994,37.724 26.783,37.724 15.994,59.813 39.111,31.045 26.783,31.045 37.571,8.442" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
  <svg atv:refpx="332.662" atv:refpy="34.127" fill="#ffffff" height="40" id="id_17" stroke="#ffffff" transform="matrix(1.2569,0,0,1,0,0)" width="40" x="244.679" xlink:href="SYSTEM.LIBRARY.PROJECT.RESOURCES%2FSVG%20WIFI.svg" y="14.127"/>
 </g>
 <text atv:refpx="516.604" atv:refpy="37.627" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_18" text-anchor="end" x="586.104" y="42.127">timestamp</text>
 <text atv:refpx="207.415" atv:refpy="37.627" fill="#ffffff" font-family="Arial" font-size="22" font-weight="bold" id="id_7" text-anchor="end" x="276.915" y="42.127">timestamp</text>
 <text atv:refpx="20.524" atv:refpy="309.223" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_23" text-anchor="end" x="29.002" y="313.723">P</text>
 <text atv:refpx="345.146" atv:refpy="309.223" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_27" text-anchor="end" x="364.577" y="313.723">FP</text>
 <text atv:refpx="20.072" atv:refpy="108.787" fill="#ee252e" font-family="Arial" font-size="36" font-weight="bold" id="id_20" text-anchor="end" x="31.002" y="113.287">V</text>
 <text atv:refpx="42.353" atv:refpy="108.787" fill="#ee252e" font-family="Arial" font-size="18" font-weight="bold" id="id_28" text-anchor="start" x="30.666" y="113.287">L1-L2</text>
 <text atv:refpx="18.51" atv:refpy="149.865" fill="#fdae01" font-family="Arial" font-size="36" font-weight="bold" id="id_32" text-anchor="end" x="31.002" y="179.628">V</text>
 <text atv:refpx="55.105" atv:refpy="173.421" fill="#fdae01" font-family="Arial" font-size="18" font-weight="bold" id="id_33" text-anchor="end" x="78.605" y="179.921">L2-L3</text>
 <text atv:refpx="42.428" atv:refpy="132.288" fill="#0282cc" font-family="Arial" font-size="36" font-weight="bold" id="id_35" text-anchor="end" x="31.002" y="246.735">V</text>
 <text atv:refpx="81.175" atv:refpy="132.288" fill="#0282cc" font-family="Arial" font-size="18" font-weight="bold" id="id_36" text-anchor="end" x="78.666" y="246.735">L3-L1</text>
 <text atv:refpx="175.224" atv:refpy="121.664" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_38" text-anchor="end" x="327.577" y="113.287">I</text>
 <text atv:refpx="345.666" atv:refpy="106.787" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_39" text-anchor="end" x="354.666" y="113.287">L1</text>
 <text atv:refpx="172.893" atv:refpy="113.018" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_41" text-anchor="end" x="327.577" y="179.628">I</text>
 <text atv:refpx="345.666" atv:refpy="173.421" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_42" text-anchor="end" x="355.666" y="179.921">L2</text>
 <text atv:refpx="176.223" atv:refpy="108.37" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_44" text-anchor="end" x="327.577" y="246.735">I</text>
 <text atv:refpx="345.666" atv:refpy="240.235" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_45" text-anchor="end" x="355.666" y="246.735">L3</text>
 <text atv:refpx="63.19" atv:refpy="199.629" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_46" text-anchor="end" x="61.166" y="314.076">Act</text>
 <text atv:refpx="236.308" atv:refpy="108.787" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_47" text-anchor="end" x="250.834" y="113.287">E1</text>
 <text atv:refpx="275.397" atv:refpy="108.787" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_49" text-anchor="start" x="261.327" y="113.287">V</text>
 <text atv:refpx="275.397" atv:refpy="174.258" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_50" text-anchor="start" x="261.327" y="178.758">V</text>
 <text atv:refpx="275.397" atv:refpy="241.235" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_51" text-anchor="start" x="261.327" y="245.735">V</text>
 <text atv:refpx="295.11" atv:refpy="308.819" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_52" text-anchor="start" x="261.327" y="313.319">KW</text>
 <text atv:refpx="232.308" atv:refpy="175.128" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_53" text-anchor="end" x="250.834" y="179.628">E2</text>
 <text atv:refpx="232.308" atv:refpy="242.235" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_54" text-anchor="end" x="250.834" y="246.735">E3</text>
 <text atv:refpx="241.356" atv:refpy="309.223" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_55" text-anchor="end" x="250.834" y="313.723">P</text>
 <text atv:refpx="533.372" atv:refpy="106.787" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_56" text-anchor="end" x="541.112" y="111.287">I1</text>
 <text atv:refpx="565.675" atv:refpy="106.787" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_57" text-anchor="start" x="551.605" y="111.287">A</text>
 <text atv:refpx="565.675" atv:refpy="172.258" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_58" text-anchor="start" x="551.605" y="176.758">A</text>
 <text atv:refpx="565.675" atv:refpy="239.235" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_59" text-anchor="start" x="551.605" y="243.735">A</text>
 <text atv:refpx="554.322" atv:refpy="306.819" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_60" text-anchor="start" x="551.605" y="311.319"/>
 <text atv:refpx="529.372" atv:refpy="173.128" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_61" text-anchor="end" x="541.112" y="177.628">I2</text>
 <text atv:refpx="529.372" atv:refpy="240.235" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_62" text-anchor="end" x="541.112" y="244.735">I3</text>
 <text atv:refpx="521.681" atv:refpy="307.223" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_63" text-anchor="end" x="541.112" y="311.723">FP</text>
 <rect atv:refpx="302.873" atv:refpy="364.747" fill="#ffffff" height="66" id="id_21" stroke="#000000" stroke-width="2" width="601.599" x="2.074" y="331.747"/>
 <rect atv:refpx="36.017" atv:refpy="364.627" fill="#e8e8e8" height="63" id="id_22" stroke="#000000" stroke-opacity="0" stroke-width="2" width="66" x="3.017" y="333.127"/>
 <polygon atv:refpx="31.414" atv:refpy="365.381" fill="#8e8e8e" id="id_24" points="12.946,384.702 32.835,346.061 49.882,384.133 49.882,384.133 49.882,384.133" stroke="#000000" stroke-opacity="0" stroke-width="2"/>
 <text atv:refpx="566.435" atv:refpy="379.628" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_25" text-anchor="start" x="549.105" y="384.128">%</text>
 <text atv:refpx="264.871" atv:refpy="381.032" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_26" text-anchor="end" x="393.697" y="385.532">Estatus P. Emerg</text>
 <text atv:refpx="509.917" atv:refpy="380.141" fill="#000000" font-family="Arial" font-size="36" font-weight="bold" id="id_29" text-anchor="end" x="541.112" y="384.641">Fuel</text>
 <rect atv:refpx="151.94" atv:refpy="167.588" fill="#000000" fill-opacity="0" height="197.554" id="id_30" stroke="#000000" stroke-width="2" width="298.55" x="2.665" y="68.811"/>
 <rect atv:refpx="452.966" atv:refpy="165.368" fill="#000000" fill-opacity="0" height="197.554" id="id_34" stroke="#000000" stroke-width="2" width="300.391" x="302.77" y="67.591"/>
 <rect atv:refpx="151.385" atv:refpy="299.106" fill="#000000" fill-opacity="0" height="63.262" id="id_37" stroke="#000000" stroke-width="2" width="300.77" x="1" y="267.475"/>
 <rect atv:refpx="453.265" atv:refpy="298.551" fill="#000000" fill-opacity="0" height="63.262" id="id_40" stroke="#000000" stroke-width="2" width="300.77" x="302.88" y="266.92"/>
 <rect atv:refpx="302.135" atv:refpy="33.091" fill="#000000" fill-opacity="0" height="64.182" id="id_43" stroke="#000000" stroke-width="2" width="602.271" x="1" y="1"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_18";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
var id = "id_7";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, formattedDate.toString());

});


webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_5";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});

webMI.data.subscribe(webMI.query["base"] + ".connectivity", function(e) {
	var id = "id_0";
	var value = e.status;
	var valor = e.value;
	
	switch (value) {
	case 0:
		if (valor == true)
			webMI.gfx.setFill(id, "#1a8b22");
		else
			webMI.gfx.setFill(id, "#ff0000");
		break;
	case undefined:
		webMI.gfx.setFill(id, "#6b6b6b");
		break;
	case 2156593152:
		webMI.gfx.setFill(id, "#b98f2d");
		break;
	case 2150694912:
		webMI.gfx.setFill(id, "#ff0000");
		break;
	case 2150760448:
		webMI.gfx.setFill(id, "#7c1536");
		break;
	case 1083179008:
		webMI.gfx.setFill(id, "#3a3a3a");
		break;
	default:
		console.log(value);
		webMI.gfx.setFill(id, "#ffffff");
	break;
		}
	});


webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L1-L2", function(e) {
var id = "id_47";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L2-L3", function(e) {
var id = "id_53";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});

webMI.data.subscribe(webMI.query["base"] + ".Voltaje_L3-L1", function(e) {
var id = "id_54";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.0f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L1", function(e) {
var id = "id_56";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L2", function(e) {
var id = "id_61";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".Corriente_L3", function(e) {
var id = "id_62";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});
webMI.data.subscribe(webMI.query["base"] + ".Potencia_Activa", function(e) {
var id = "id_55";
var value = e.value;
if (value > 1000) {
value = value/1000;
}


webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".FP", function(e) {
var id = "id_63";
var value = e.value;

if (value > 1)
	{
	value = value/100;
	}
	
webMI.gfx.setText(id, webMI.sprintf("%.2f", value));

});
webMI.addEvent("id_30", "click", function(e) {
var id = "id_30";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.VoltajeMain", webMI.query, "tendencias");
});


webMI.addEvent("id_34", "click", function(e) {
var id = "id_34";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.CorrienteMain", webMI.query, "tendencias");
});


webMI.addEvent("id_37", "click", function(e) {
var id = "id_37";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.PotenciaMain", webMI.query, "tendencias");
});
webMI.addEvent("id_40", "click", function(e) {
var id = "id_40";
var value = true;
webMI.display.openDisplay("SYSTEM.DISPLAYS.FPMain", webMI.query, "tendencias");
});

]]></script>
</svg>
