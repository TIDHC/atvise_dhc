<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg height="50" version="1.2" width="1920" xmlns="http://www.w3.org/2000/svg" xmlns:atv="http://webmi.atvise.com/2007/svgext" xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs/>
 <metadata>
  <atv:gridconfig enabled="false" gridstyle="lines" height="20" width="20"/>
  <atv:snapconfig enabled="true" height="1" width="1"/>
 </metadata>
 <rect atv:refpx="169" atv:refpy="25.5" fill="#ffffff" height="47" id="id_11" stroke="#000000" stroke-width="2" width="336" x="1" y="2"/>
 <script atv:desc="" atv:name="" type="text/ecmascript"><![CDATA[

webMI.data.subscribe(webMI.query["base"] + ".current_daily_volume", function(e) {
var id = "id_56";
var value = e.value;
var valorConFormato = new Intl.NumberFormat('es-Mx',{ maximumFractionDigits: 1}).format(value)
webMI.gfx.setText(id,valorConFormato);

});
webMI.data.subscribe(webMI.query["base"] + ".current_flow", function(e) {
var id = "id_38";
var value = e.value;
webMI.gfx.setText(id, webMI.sprintf("%.1f", value));

});


webMI.data.subscribe(webMI.query["base"] + ".name", function(e) {
var id = "id_6";
var value = e.value;
webMI.gfx.setText(id, value);

});
webMI.data.subscribe(webMI.query["base"] + ".diameter", function(e) {
var id = "id_7";
var value = e.value;
webMI.gfx.setText(id, value);

});
webMI.data.subscribe(webMI.query["base"] + ".current_flow", function(e) {
var id = "id_3";
var status = e.status;
var value = e.value;

if (status == 0 && value > 1){
	webMI.gfx.setFill(id, "#a18262");
	}
	else {
	webMI.gfx.setFill(id, "#d5d5d5");
	
	}
});
webMI.data.subscribe(webMI.query["base"] + ".current_flow", function(e) {
var id = "id_0";
var status = e.status;
var value = e.value;

if (status == 0 && value > 1){
	webMI.gfx.setFill(id, "#a18262");
	}
	else {
	webMI.gfx.setFill(id, "#d5d5d5");
	
	}
});

webMI.data.subscribe(webMI.query["base"] + ".current_total_volume", function(e) {
var id = "id_18";
var value = e.value;
var valorConFormato = new Intl.NumberFormat('es-Mx',{ maximumFractionDigits: 1}).format(value)
webMI.gfx.setText(id,valorConFormato);
});


webMI.data.subscribe(webMI.query["base"] + ".current_daily_volume", function(e) {
var id = "id_16";
var value = e.timestamp;
const date = new Date(value);
const options = {year: 'numeric', month: 'numeric', day: 'numeric'};
const formattedDate = new Intl.DateTimeFormat('es-MX',options).format(date);
webMI.gfx.setText(id, "Producción: " + formattedDate);

});







webMI.addEvent("id_21", "click", function(e) {
var id = "id_21";
var value = true;
webMI.display.openDisplay("ObjectTypes.PROJECT.Caudalimetro.graph_flow", webMI.query, "tendencias");
});
webMI.addOnload(function(e) {
var id = "";
var value = true;
webMI.display.openDisplay("ObjectTypes.PROJECT.Caudalimetro.graph", webMI.query, "tendencias");
});

]]></script>
 <rect atv:refpx="1128.5" atv:refpy="25" fill="#ffffff" height="48" id="id_1" stroke="#000000" stroke-width="2" width="1581" x="338" y="1"/>
 <rect atv:refpx="1775.682" atv:refpy="38.329" fill="#d5d5d5" height="13.812" id="id_0" stroke="#000000" stroke-opacity="0" stroke-width="2.15" width="157.364" x="1697" y="18.188"/>
 <polygon atv:refpx="1060.428" atv:refpy="24" fill="#d5d5d5" id="id_3" points="1854,30.333 1854,41 1873.97,25 1854,8.998 1854,8.998" stroke="#000000" stroke-opacity="0" stroke-width="2.15"/>
 <rect atv:refpx="158.903" atv:refpy="25.049" fill="#ffffff" height="48.1" id="id_13" stroke="#000000" stroke-width="2" width="679" x="1017" y="1"/>
 <rect atv:refpx="-1293.255" atv:refpy="0" fill="#e8e8e8" height="44.026" id="id_12" stroke="#000000" stroke-opacity="0" stroke-width="2" width="217" x="1018" y="3.521"/>
 <text atv:refpx="1193.267" atv:refpy="32.615" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_38" text-anchor="end" x="1206.767" y="45.115">Q</text>
 <text atv:refpx="1220.386" atv:refpy="38.921" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_39" text-anchor="end" x="1229.886" y="45.421">l/s</text>
 <text atv:refpx="-76" atv:refpy="0" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_56" text-anchor="end" x="1393.931" y="45.115">Vd</text>
 <text atv:refpx="1423.262" atv:refpy="40.921" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_57" text-anchor="start" x="1396.932" y="45.421">m3</text>
 <text atv:refpx="87.818" atv:refpy="31" fill="#000000" font-family="Arial" font-size="24" id="id_6" text-anchor="start" x="77.5" y="35.5">NL</text>
 <text atv:refpx="31.425" atv:refpy="31" fill="#000000" font-family="Arial" font-size="24" font-weight="bold" id="id_7" text-anchor="end" x="40.5" y="35.5">D</text>
 <line atv:refpx="1016.5" atv:refpy="23.5" id="id_10" stroke="#000000" stroke-width="2" x1="1016" x2="1016" y1="48" y2="1"/>
 <text atv:refpx="54.326" atv:refpy="31" fill="#000000" font-family="Arial" font-size="24" font-weight="bold" id="id_14" text-anchor="start" x="43.5" y="35.5">"</text>
 <rect atv:refpx="191.953" atv:refpy="28.39" fill="#e8e8e8" height="44.026" id="id_2" stroke="#000000" stroke-opacity="0" stroke-width="2" width="265" x="1430" y="3.375"/>
 <text atv:refpx="1210.886" atv:refpy="16.5" fill="#000000" font-family="Arial" font-size="12" font-weight="bold" id="id_15" text-anchor="end" x="1229.886" y="21">Caudal</text>
 <text atv:refpx="1390.932" atv:refpy="16.5" fill="#000000" font-family="Arial" font-size="12" font-weight="bold" id="id_16" text-anchor="end" x="1422.932" y="21">Producción</text>
 <text atv:refpx="1646.5" atv:refpy="16.5" fill="#000000" font-family="Arial" font-size="12" font-weight="bold" id="id_17" text-anchor="end" x="1692.5" y="21">Producción total</text>
 <text atv:refpx="1647.487" atv:refpy="40.615" fill="#000000" font-family="Arial" font-size="22" font-weight="bold" id="id_18" text-anchor="end" x="1663.5" y="45.115">Vd</text>
 <text atv:refpx="1692.83" atv:refpy="40.921" fill="#000000" font-family="Arial" font-size="18" font-weight="bold" id="id_19" text-anchor="start" x="1666.5" y="45.421">m3</text>
 <rect atv:refpx="1125.5" atv:refpy="24.5" fill="#e8e8e8" fill-opacity="0" height="45" id="id_21" stroke="#000000" stroke-opacity="0" stroke-width="2" width="215" x="1018" y="2"/>
 <rect atv:refpx="549.446" atv:refpy="28" fill="#e8e8e8" fill-opacity="0" height="44" id="id_22" stroke="#000000" stroke-opacity="0" stroke-width="2" width="122" x="1307" y="6"/>
 <rect atv:refpx="159.621" atv:refpy="25.5" fill="#e8e8e8" fill-opacity="0" height="45" id="id_23" stroke="#000000" stroke-opacity="0" stroke-width="2" width="269" x="1431" y="3"/>
</svg>
